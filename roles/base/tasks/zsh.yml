---
- name: Install zsh shell (Debian)
  apt:
    name: zsh
    state: present
  when: ansible_distribution == 'Debian'

- name: Install zsh shell (CentOS)
  yum:
    name: zsh
    state: present
  when: ansible_distribution == 'CentOS'

- name: Clone oh-my-zsh repo
  git:
   repo: https://github.com/robbyrussell/oh-my-zsh.git
   dest: /root/.oh-my-zsh/

- name: Upload zshrc file
  copy:
    src: zshrc
    dest: /root/.zshrc
    mode: 0640
    owner: root
    group: root

- name: Upload custom oh-my-zsh theme
  copy:
    src: vesclean.zsh-theme
    dest: /root/.oh-my-zsh/themes/vesclean.zsh-theme
    mode: 0640
    owner: root
    group: root

- name: Set roots shell to zsh
  user:
    name: root
    shell: /bin/zsh
